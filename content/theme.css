/* This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
See the below repository for updates as well as full license text.
https://github.com/eduwz/firefox-minimalist/tree/master/content/theme.css
*/

/*-------------------------------------------------------------------------------------------------------*/

:root{
    --uc-main-bgcolor: #21252b;
    --uc-bgcolor: #282c34;
    --uc-active-color: #0063b1;
    --uc-hover-color: #33466c;
    --uc-hover-selected: #2c313c;
    --uc-panel-bgcolor: #353b45;
    --uc-main-color: #fff;
    --uc-separator-color: #494e57;
}
:root{
    --toolbar-bgcolor: var(--uc-main-bgcolor) !important;
    --toolbar-field-focus-border-color: var(--uc-hover-color) !important;
    --toolbar-field-focus-background-color: var(--uc-panel-bgcolor) !important;
    --toolbar-field-hover-background-color: var(--uc-hover-selected) !important;
    --toolbarbutton-active-background: var(--uc-active-color) !important;
    --toolbarbutton-hover-background: var(--uc-hover-color) !important;
    --arrowpanel-color: var(--uc-main-color) !important;
    --arrowpanel-background: var(--uc-panel-bgcolor) !important;
    --lwt-text-color: var(--uc-main-color) !important;
    --toolbar-non-lwt-textcolor: var(--uc-main-bgcolor) !important;
    --button-hover-bgcolor: transparent !important;
    --panel-separator-color: var(--uc-separator-color) !important;
    --tab-block-margin: none !important;
    --tabpanel-background-color: var(--uc-main-color) !important;
    --urlbarView-separator-color: none !important;
}
:root{
    --uc-border-radius: 4px !important;
    --uc-height: 30px !important;
    --tab-overflow-clip-margin: 0px !important; /*spacing between tabs*/
    --tab-block-margin: -2px !important;
    --urlbar-min-height: 30px !important;
    --tab-min-height: 30px !important;
    --tab-max-height: 30px !important;
}

/*-------------------------------------------------------------------------------------------------------*/
/* navbar_tabs_responsive_oneliner.css */
/*-------------------------------------------------------------------------------------------------------*/

@media screen and (min-width: 1100px){
    #navigator-toolbox{
        --uc-urlbar-min-width: 20vw;
        --uc-toolbar-height: var(--uc-height);
    }
}
  
/*-------------------------------------------------------------------------------------------------------*/
/* autohide_bookmarks_toolbar.css */
/*-------------------------------------------------------------------------------------------------------*/
  
#PersonalToolbar{
    --toolbar-bgcolor: var(--uc-main-bgcolor) !important;
    --uc-autohide-toolbar-focus-rotation: 90deg;
}

/*-------------------------------------------------------------------------------------------------------*/
/* media queries */ 
/*-------------------------------------------------------------------------------------------------------*/

@media screen and (max-width: 1340px){
#unified-extensions-button{
    display: none !important;
}
#nav-bar-overflow-button{
    display: none !important;
}
}
@media screen and (max-width: 1100px){
#nav-bar{
    zmax-height: var(--uc-height);
    margin-block-end: -1px !important;
}
#navigator-toolbox{
    max-height: calc(var(--uc-height) * 2) !important;
    margin-block-start: 1px !important;
}
}

/*-------------------------------------------------------------------------------------------------------*/
/* toolbar */
/*-------------------------------------------------------------------------------------------------------*/

/*
  KEY IDs AND CLASS NAMES
  ========================

  #navigator-toolbox
      The outermost wrapper for all browser toolbars (nav-bar + tabs toolbar +
      bookmarks toolbar).  Acts as the coordinate origin for the one-liner layout.

  #toolbar-menubar
      The classic menu bar (File / Edit / View â€¦).  Hidden by default on Windows.

  #nav-bar  (#nav-bar-customization-target inside it)
      The navigation toolbar.  Contains (DOM order, left â†’ right):
        back/forward/reload/home buttons
        #urlbar-container
        #fxa-toolbar-menu-button
        #unified-extensions-button  (+ any individually-pinned extension buttons)
        #PanelUI-button
      In the one-liner layout this bar is pulled up via a negative margin-top so
      it sits in the same row as #TabsToolbar.

  #TabsToolbar  (#TabsToolbar-customization-target inside it)
      The horizontal bar that holds browser tabs plus:
        #tabbrowser-tabs        â€” the actual scrollable list of open tabs
        #new-tab-button         â€” the + button to open a new tab
        #alltabs-button         â€” the Ë… button to list all tabs
      Also contains .titlebar-buttonbox-container at its far right.

  .titlebar-buttonbox-container / .titlebar-buttonbox
      Wrapper for the OS window-control buttons (minimise / maximise / close).
      .titlebar-min, .titlebar-max, .titlebar-restore, .titlebar-close
      are the individual buttons.  On macOS / some GTK setups these move to the
      left via a position:fixed rule (see navbar_tabs_responsive_oneliner.css).

  .titlebar-spacer[type="pre-tabs"]   â€” flex spacer before the tab strip
  .titlebar-spacer[type="post-tabs"]  â€” flex spacer after the tab strip
      Used to position tabs and the window-control cluster.  Both are hidden in
      this theme to avoid unwanted gaps.

  #urlbar-container  (#urlbar inside it)
      Container for the address / search bar.  flex-basis is fixed so the bar
      does not expand into the space reserved for the tab strip.

  #unified-extensions-button
      The puzzle-piece ðŸ§© button.  Opening it shows all installed extensions.
      Extensions that are "pinned" to the toolbar appear as individual
      toolbarbutton elements directly in #nav-bar-customization-target,
      immediately after #unified-extensions-button in the DOM.

  #fxa-toolbar-menu-button
      The Firefox Account (Sync) profile button.  Displays the signed-in
      avatar or a default icon when the user is not logged in.

  #PanelUI-button
      The hamburger â˜° button.  Opens the main Firefox application menu
      (history, bookmarks, add-ons, settings, etc.).

  #PersonalToolbar  (#PlacesToolbar inside it)
      The bookmarks toolbar (shown below the one-liner row).
*/

#titlebar,
#nav-bar,
toolbarbutton,
toolbaritem,
#urlbar-container,
.urlbar-input-container{ 
    max-height: var(--uc-height) !important;
}
.urlbar-input-container,
#urlbar-background,
toolbarbutton{
  margin-block-start: none !important;
}
/* #fxa-toolbar-menu-button â€” the Firefox Account / Sync profile button.
   Shows the signed-in avatar or a generic icon when not signed in.
   order:3 places it after the extensions list (order:2) but before the
   hamburger menu (order:4), matching the desired right-side ordering:
   extensions â†’ profile â†’ menu â†’ window controls. */
#fxa-toolbar-menu-button {
  order: 3 !important;
}

/* #PanelUI-button â€” the "hamburger" â˜° button that opens the Firefox
   application menu (bookmarks, history, settings, etc.).
   order:4 places it last among the right-side items so it sits directly
   beside the window-control buttons (the new rightmost position). */
#PanelUI-button {
    order: 4 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}
#TabsToolbar,
#toolbar-menubar,
#navigator-toolbox{
  background-color: var(--uc-main-bgcolor) !important;
}
.titlebar-button{
  border-radius: var(--uc-border-radius) !important;
}
.titlebar-min:hover,
.titlebar-max:hover,
.titlebar-restore:hover,
#urlbar-searchmode-switcher:hover{
  background-color: var(--uc-hover-color) !important;
}
.titlebar-min:active,
.titlebar-max:active,
.titlebar-restore:active{
  background-color: var(--uc-active-color) !important;
}
#urlbar-searchmode-switcher{
  background-color: var(--uc-bgcolor-) !important;
  margin-block-start: 6px !important;
}
.titlebar-button {
  padding-inline: 14px !important;
  transition: opacity 0.2s ease;
}
.toolbarbutton-1{
  padding: 0px !important;
}
.bookmark-item{
  margin: 4px !important;
}
.subviewbutton:hover{
  background: var(--uc-hover-selected) !important;
}
.titlebar-spacer[type="post-tabs"]{
  display: none !important;
}
#navigator-toolbox{
  border: none !important;
}

/*-------------------------------------------------------------------------------------------------------*/
/* tabs */
/*-------------------------------------------------------------------------------------------------------*/

.tabbrowser-tab,
#TabsToolbar-customization-target.customization-target{
  height: var(--uc-height) !important;
}
/*
.tab-content{
  max-height: var(--uc-height) !important;  
}
this is affecting pages contents somehow, reminder look into later.
*/
.tabbrowser-tab[fadein]{
  max-width: 140px !important;
  min-width: 32px !important;
}
.tabbrowser-tab{
  padding: 0px !important;
}
.tab-background{
  background-color: var(--uc-main-bgcolor) !important;
}
.tab-background[selected]{
  background-color: var(--uc-active-color) !important;
}
.tabbrowser-tab:hover > .tab-stack > .tab-background:not([selected]) {
  background-color: var(--uc-hover-color) !important;
}
.tab-close-button:hover{
  background-color: var(--uc-hover-selected) !important;
}
#firefox-view-button{
  display: none !important;
}

/*-------------------------------------------------------------------------------------------------------*/
/* url */
/*-------------------------------------------------------------------------------------------------------*/

#urlbar-input{
    height: var(--uc-height) !important;
}
#searchbar,
#urlbar,
.searchbar-textbox{
  margin-top: -2px !important;
}
.urlbarView{
  --autocomplete-popup-separator-color: none !important; 
}
.urlbarView-row[selected],
.urlbarView-row[type="switchtab"][selected],
.searchbar-engine-one-off-item[selected],
#urlbar-search-mode-indicator{
  background-color: var(--uc-active-color) !important;
}
.urlbarView-row:hover,
.urlbarView-row[type="switchtab"]:hover,
#urlbar-search-mode-indicator-close:hover{
  background-color: var(--uc-hover-selected) !important;
}
.identity-box-button:hover,
#tracking-protection-icon-container:hover,
.urlbar-page-action:hover,
.searchbar-engine-one-off-item:hover,
#urlbar-go-button:hover,
.urlbarView-row[type="switchtab"]{
  background-color: var(--uc-hover-color) !important;
}
:is(.urlbarView-row[selected],.urlbarView-row:hover) .urlbarView-row-inner {
  background-color: invisible !important;
}
.search-one-offs{
  padding-block: 0px 6px !important;
}
.urlbarView,
#urlbar,
#urlbar-background{
  border-radius: var(--uc-border-radius) !important;
}
#urlbar-background{
  outline: none !important;
}

/*-------------------------------------------------------------------------------------------------------*/
/* menus */
/*-------------------------------------------------------------------------------------------------------*/

.panel-subview-body,
.menupopup-arrowscrollbox,
menupopup > menuitem[_moz-menuactive="true"]{
  background: var(--uc-panel-bgcolor) !important;
  color: var(--uc-main-color) !important;
}
.download-state:hover,
menupopup > menuitem:hover, 
menupopup > menu:hover,
menupopup > menucaption:hover  {
  background-color: var(--uc-hover-selected) !important;
  color: white !important;
}
#context-navigation > menuitem[_moz-menuactive] .menu-iconic-icon{
  border-radius: var(--uc-border-radius) !important;
}
menupopup:not(.in-menulist){
  --panel-padding: none !important;
}
menupopup{
  --panel-border-radius: var(--uc-border-radius) !important;
}
.menupopup-arrowscrollbox{
  padding-block: 4px 4px !important;
}
#context-navigation{
  padding-right: 4px !important;
  padding-left: 4px !important;
}
#context-back:hover image,
#context-forward:hover image,
#context-reload:hover image,
#context-stop:hover image,
#context-bookmarkpage:hover image,
#context-sep-navigation:hover {
  background-color: var(--uc-hover-color) !important;
}
#context-sep-navigation{
  display: none !important;
}

/*-------------------------------------------------------------------------------------------------------*/
/* others */
/*-------------------------------------------------------------------------------------------------------*/

#editBMPanel_chooseFolderSeparator,
#editBMPanel_foldersSeparator{
  display: none !important;
}
stack input,
#editBMPanel_folderTree,
#editBMPanel_newFolderButton,
#editBookmarkPanelRemoveButton,
#editBMPanel_folderMenuList,
#editBMPanel_foldersExpander,
#editBMPanel_tagsSelectorExpander,
#editBMPanel_namePicker,
#editBMPanel_tagsField{
  background-color: var(--uc-bgcolor) !important;
}
.PanelUI-subView,
#downloadsPanel-mainView,
#password-notification,
.popup-notification-body-container,
#permission-popup-mainView,
.panel-header,
#protections-popup-mainView,
#identity-popup-mainView,
.tab-preview-text-container,
.cui-widget-panelview,
#addon-webext-permissions-notification,
#appMenu-addon-installed-notification{
  background-color: var(--uc-panel-bgcolor) !important;
}
.unified-extensions-item-menu-button.subviewbutton {
  border-radius: var(--uc-border-radius) !important;
}
.downloadButton:hover,
.popup-notification-dropmarker:hover,
.popup-notification-primary-button:hover,
.popup-notification-secondary-button:hover,
.autocomplete-richlistitem:hover,
menuitem:hover,
#editBMPanel_folderMenuList:hover,
#editBMPanel_newFolderButton:hover,
#editBookmarkPanelRemoveButton:hover,
#editBMPanel_foldersExpander:hover,
#editBMPanel_tagsSelectorExpander:hover,
#editBMPanel_namePicker:hover,
#editBMPanel_tagsField:hover,
#protections-popup-info-button:hover,
.unified-extensions-item-menu-button:hover{
  background-color: var(--uc-hover-color) !important;
}
.unified-extensions-item-menu-button.subviewbutton {
  padding: 0 !important; 
}
#urlbar-one-offs-header-label{
  display: none !important;
}
/* #unified-extensions-button â€” the puzzle-piece ðŸ§© button that opens the
   Extensions panel showing all installed add-ons.
   order:2 places it right after the URL-bar/nav section.
   margin-left:auto is the key trick: it consumes all remaining free space to
   its left, which pushes this button (and every subsequent sibling) flush to
   the right side of #nav-bar â€” the area visually to the right of the tab strip. */
#unified-extensions-button{
  order: 2 !important;
  margin-left: auto !important;
  margin-right: 0 !important;
}

/* Individually-pinned extension buttons appear as toolbarbutton elements in
   #nav-bar-customization-target (after #unified-extensions-button in the DOM).
   We give them order:2 so they cluster with the extensions button on the right
   side rather than drifting into the left (nav-buttons + urlbar) section.
   Known built-in buttons are excluded via :not() so this only targets extension
   buttons placed in the toolbar via drag-and-drop or extensions preferences. */
#nav-bar-customization-target > toolbarbutton:not(#back-button):not(#forward-button):not(#stop-reload-button):not(#home-button):not(#reload-button):not(#stop-button):not(#PanelUI-button):not(#fxa-toolbar-menu-button):not(#unified-extensions-button) {
  order: 2 !important;
}
#tabbrowser-tabpanels{
  background-color: var(--uc-main-bgcolor) !important;
}

/*-------------------------------------------------------------------------------------------------------*/
